/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java library project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.8/userguide/building_java_projects.html
 */

plugins {
    // Apply the java-library plugin for API and implementation separation.
    id 'java-library'
    id 'org.flywaydb.flyway' version '7.5.4' // Flyway 플러그인 추가
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
    
    // Local repository
    flatDir {
        dirs 'libs'
    }
}

dependencies {

	// SLF4J with Logback
    implementation 'org.slf4j:slf4j-api:1.7.30'
    implementation 'ch.qos.logback:logback-classic:1.2.3'
    
    // Use JUnit test framework.
    testImplementation 'junit:junit:4.13'

    // Commons Math library
    api 'org.apache.commons:commons-math3:3.6.1'

    // PostgreSQL JDBC Driver
    implementation 'org.postgresql:postgresql:42.2.20'

    // MyBatis for ORM (Object-Relational Mapping)
    implementation 'org.mybatis:mybatis:3.5.6'

    // HikariCP for database connection pooling
    implementation 'com.zaxxer:HikariCP:4.0.3'
    
    // PDFBox and FontBox libraries from local repository
    implementation name: 'pdfbox-2.0.24'
    implementation name: 'fontbox-2.0.24'
    
    // Commons Logging for PDFBox
    implementation name: 'commons-logging-1.2'
    
}

flyway {
    url = 'jdbc:postgresql://localhost:5432/currency'
    user = 'postgres'
    password = 'Root1234!'
    schemas = ['public']
    locations = ['filesystem:src/main/resources/db/migration']
}

sourceCompatibility = '1.8'
targetCompatibility = '1.8'

// Set the encoding to UTF-8 for all JavaCompile tasks
tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.compilerArgs << "-Xlint:deprecation"
}